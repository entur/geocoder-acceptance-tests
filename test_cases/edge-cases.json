{
  "name": "Edge cases",
  "description": "Results that required some tweaks",
  "tests": [
    {
      "id": "kaia kafe",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "kaia kafe"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "county": "Nordland",
            "county_gid": "whosonfirst:county:KVE:TopographicPlace:18",
            "locality": "Narvik",
            "locality_gid": "whosonfirst:locality:KVE:TopographicPlace:1806"
          }
        ]
      }
    },
    {
      "id": "grünerløkka",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "grünerløkka"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "category": [
              "bydel"
            ]
          }
        ]
      }
    },
    {
      "id": "gardermoen",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "gardermoen"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "id": "NSR:StopPlace:58211",
            "name": "Oslo lufthavn",
            "popular_name": "Gardermoen"
          }
        ]
      }
    },
    {
      "id": "oslo sentralstasjon",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "oslo sentralstasjon"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "id": "NSR:StopPlace:59872",
            "gid": "openstreetmap:venue:NSR:StopPlace:59872",
            "name": "Oslo S"
          }
        ]
      }
    },
    {
      "id": "odeon oslo",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "odeon oslo"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "name": "ODEON Oslo",
            "category": [
              "poi",
              "cinema"
            ]
          }
        ]
      }
    },
    {
      "id": "oslodistance",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "oslo",
        "focus.point.lat": 59.95501,
        "focus.point.lon": 9.46593
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "name": "Oslo",
            "distance": 71.677
          }
        ]
      }
    },
    {
      "id": "bergensentrum",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "bergen sentrum"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "id": "NSR:GroupOfStopPlaces:174",
            "name": "Bergen sentrum",
            "county": "Vestland",
            "country_a": "NOR",
            "county_gid": "whosonfirst:county:KVE:TopographicPlace:46",
            "locality": "Bergen",
            "locality_gid": "whosonfirst:locality:KVE:TopographicPlace:4601",
            "label": "Bergen sentrum, Bergen"
          }
        ]
      }
    },
    {
      "id": "altahøyden",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "altahøyden"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "county": "Finnmark"
          }
        ]
      }
    },
    {
      "id": "bergenpoliti",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "bergen sentrum politistasjon"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "id": "OSM:TopographicPlace:2624518"
          }
        ]
      }
    },
    {
      "id": "reverse-layers-filter",
      "endpoint": "reverse",
      "status": "pass",
      "in": {
        "point.lat": 60.060936,
        "point.lon": 10.309086,
        "layers": "venue",
        "categories": "onstreetBus",
        "size": 50,
        "boundary.circle.radius": 2.5
      },
      "unexpected": {
        "priorityThresh": 1,
        "properties": [
          {
            "layer": "address"
          }
        ]
      }
    },
    {
      "id": "reverse-housenumber",
      "endpoint": "reverse",
      "status": "pass",
      "in": {
        "point.lat": 60.060936,
        "point.lon": 10.309086
      },
      "unexpected": {
        "priorityThresh": 1,
        "properties": [
          {
            "housenumber": "7"
          }
        ]
      }
    },
    {
      "id": "nsr-whosonfirst-openstreetmap-parent",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "vippetangen ferjeterminal"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "id": "NSR:StopPlace:59222",
            "gid": "openstreetmap:venue:NSR:StopPlace:59222",
            "layer": "venue",
            "source": "openstreetmap"
          }
        ]
      }
    },
    {
      "id": "nsr-whosonfirst-openstreetmap-nonparent",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "oslo gate"
      },
      "expected": {
        "priorityThresh": 3,
        "properties": [
          {
            "id": "NSR:StopPlace:6520",
            "gid": "whosonfirst:venue:NSR:StopPlace:6520",
            "layer": "venue",
            "source": "whosonfirst"
          }
        ]
      }
    },
    {
      "id": "lille",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "lille"
      },
      "unexpected": {
        "priorityThresh": 4,
        "properties": [
          {
            "name": "Lille Lerresfjord kai"
          },
          {
            "name": "Lille Survik kai"
          }
        ]
      }
    },
    {
      "id": "Lille-uppercase",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "Lille"
      },
      "unexpected": {
        "priorityThresh": 4,
        "properties": [
          {
            "name": "Lille Lerresfjord kai"
          },
          {
            "name": "Lille Survik kai"
          }
        ]
      }
    },
    {
      "id": "jernbanetorget-description",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "jernbanetorget",
        "multiModal": "all",
        "size": 20
      },
      "expected": {
        "priorityThresh": 20,
        "properties": [
          {
            "description": [
              {
                "nor": "foran Oslo S"
              }
            ]
          }
        ]
      }
    },
    {
      "id": "ullerud-stop-first",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "ullerud"
      },
      "expected": {
        "priorityThresh": 1,
        "properties": [
          {
            "id": "NSR:StopPlace:5496"
          }
        ]
      }
    },
    {
      "id": "oslovägen",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "oslo",
        "boundary.country": "SWE"
      },
      "expected": {
        "priorityThresh": 1,
        "properties": [
          {
            "name": "Oslovägen"
          }
        ]
      }
    },
    {
      "id": "county_ids",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "osl",
        "boundary.county_ids": "KVE:TopographicPlace:18,KVE:TopographicPlace:55,KVE:TopographicPlace:56",
        "boundary.country": "NOR",
        "size": 1
      },
      "expected": {
        "priorityThresh": 1,
        "properties": [
          {
            "county_gid": "whosonfirst:county:KVE:TopographicPlace:18"
          }
        ]
      }
    },
    {
      "id": "county_ids_numeric",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "osl",
        "boundary.county_ids": "18,55,56",
        "boundary.country": "NOR",
        "size": 1
      },
      "expected": {
        "priorityThresh": 1,
        "properties": [
          {
            "county_gid": "whosonfirst:county:KVE:TopographicPlace:18"
          }
        ]
      }
    },
    {
      "id": "openaddresses-address",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "romsdalveien",
        "boundary.county_ids": "KVE:TopographicPlace:56",
        "sources": "openaddresses",
        "size": 20
      },
      "expected": {
        "priorityThresh": 20,
        "properties": [
          {
            "housenumber": "10"
          }
        ]
      }
    },
    {
      "id": "openaddresses-address-short-token",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "nils gotlands veg",
        "sources": "openaddresses",
        "size": 30
      },
      "expected": {
        "priorityThresh": 30,
        "properties": [
          {
            "housenumber": "14"
          }
        ]
      }
    },
    {
      "id": "glassverket-moss",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "glassverket moss"
      },
      "expected": {
        "priorityThresh": 2,
        "properties": [
          {
            "id": "NSR:StopPlace:3018"
          }
        ]
      }
    },
    {
      "id": "geonames-child-stops",
      "endpoint": "autocomplete",
      "status": "pass",
      "in": {
        "text": "Skonseng stasjon",
        "multiModal": "all"
      },
      "expected": {
        "priorityThresh": 2,
        "properties": [
          {
            "id": "NSR:StopPlace:104",
            "gid": "geonames:venue:NSR:StopPlace:104",
            "layer": "venue",
            "source": "geonames",
            "source_id": "NSR:StopPlace:104",
            "name": "Skonseng stasjon"
          }
        ]
      }
    }
  ]
}
